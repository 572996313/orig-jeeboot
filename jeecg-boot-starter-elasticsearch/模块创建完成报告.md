# jeecg-boot-starter-elasticsearch æ¨¡å—åˆ›å»ºå®ŒæˆæŠ¥å‘Š

## ğŸ“‹ æ¨¡å—ä¿¡æ¯

**æ¨¡å—åç§°**: jeecg-boot-starter-elasticsearch  
**æ¨¡å—ç‰ˆæœ¬**: 4.0.0  
**åˆ›å»ºæ—¥æœŸ**: 2025-11-08  
**æ¨¡å—ç±»å‹**: Elasticsearchæœç´¢å¼•æ“é›†æˆStarter  
**çŠ¶æ€**: âœ… å·²å®Œæˆ

## ğŸ“¦ æ¨¡å—ç»“æ„

```
jeecg-boot-starter-elasticsearch/
â”œâ”€â”€ pom.xml (134è¡Œ)
â”œâ”€â”€ README.md (62è¡Œ)
â”œâ”€â”€ æ¨¡å—åˆ›å»ºå®ŒæˆæŠ¥å‘Š.md (æœ¬æ–‡ä»¶)
â”œâ”€â”€ src/main/java/org/jeecg/
â”‚   â”œâ”€â”€ config/elasticsearch/
â”‚   â”‚   â”œâ”€â”€ JeecgElasticsearchProperties.java (143è¡Œ) - é…ç½®å±æ€§ç±»
â”‚   â”‚   â””â”€â”€ JeecgElasticsearchAutoConfiguration.java (118è¡Œ) - è‡ªåŠ¨é…ç½®ç±»
â”‚   â””â”€â”€ common/es/
â”‚       â”œâ”€â”€ JeecgElasticsearchTemplate.java (410è¡Œ) - ESæ“ä½œæ¨¡æ¿
â”‚       â”œâ”€â”€ SearchResult.java (55è¡Œ) - æœç´¢ç»“æœå°è£…
â”‚       â””â”€â”€ QueryStringBuilder.java (277è¡Œ) - æŸ¥è¯¢æ„å»ºå™¨
â””â”€â”€ src/main/resources/
    â””â”€â”€ META-INF/
        â”œâ”€â”€ spring.factories (2è¡Œ) - Spring Bootè‡ªåŠ¨é…ç½®
        â””â”€â”€ spring-configuration-metadata.json (161è¡Œ) - é…ç½®å…ƒæ•°æ®
```

## ğŸ“Š æ–‡ä»¶æ¸…å•

### Javaæºæ–‡ä»¶ (5ä¸ªæ–‡ä»¶ï¼Œ1,003è¡Œä»£ç )

1. **JeecgElasticsearchProperties.java** (143è¡Œ)
   - é…ç½®å±æ€§ç±»
   - æ”¯æŒåŸºç¡€é…ç½®ã€è¿æ¥é…ç½®ã€ç´¢å¼•é…ç½®ã€æœç´¢é…ç½®
   - ä½¿ç”¨å†…éƒ¨é™æ€ç±»åˆ†ç»„ç®¡ç†

2. **JeecgElasticsearchAutoConfiguration.java** (118è¡Œ)
   - Spring Bootè‡ªåŠ¨é…ç½®ç±»
   - åˆ›å»ºRestHighLevelClient
   - åˆ›å»ºJeecgElasticsearchTemplate
   - æ”¯æŒç”¨æˆ·åå¯†ç è®¤è¯

3. **JeecgElasticsearchTemplate.java** (410è¡Œ)
   - ESæ“ä½œæ ¸å¿ƒæ¨¡æ¿ç±»
   - ç´¢å¼•ç®¡ç†ï¼šåˆ›å»ºã€åˆ é™¤ã€åˆ¤æ–­å­˜åœ¨
   - æ–‡æ¡£æ“ä½œï¼šå¢åˆ æ”¹æŸ¥ã€æ‰¹é‡æ“ä½œ
   - æœç´¢åŠŸèƒ½ï¼šæ”¯æŒæ’åºã€é«˜äº®ã€åˆ†é¡µ

4. **SearchResult.java** (55è¡Œ)
   - æœç´¢ç»“æœå°è£…ç±»
   - åŒ…å«æ€»æ•°ã€è€—æ—¶ã€æ•°æ®åˆ—è¡¨
   - æä¾›ä¾¿æ·æ–¹æ³•

5. **QueryStringBuilder.java** (277è¡Œ)
   - æŸ¥è¯¢æ„å»ºå™¨å·¥å…·ç±»
   - æ”¯æŒ15ç§æŸ¥è¯¢æ–¹å¼
   - æ”¯æŒå¸ƒå°”ç»„åˆæŸ¥è¯¢
   - æ”¯æŒæŸ¥è¯¢å­—ç¬¦ä¸²è§£æ

### èµ„æºæ–‡ä»¶ (3ä¸ªæ–‡ä»¶ï¼Œ325è¡Œ)

6. **spring.factories** (2è¡Œ)
   - Spring Bootè‡ªåŠ¨é…ç½®å¯¼å…¥

7. **spring-configuration-metadata.json** (161è¡Œ)
   - é…ç½®å…ƒæ•°æ®ï¼Œæ”¯æŒIDEæ™ºèƒ½æç¤º
   - åŒ…å«23ä¸ªé…ç½®é¡¹è¯´æ˜

8. **README.md** (62è¡Œ)
   - æ¨¡å—ä½¿ç”¨æ–‡æ¡£

9. **æ¨¡å—åˆ›å»ºå®ŒæˆæŠ¥å‘Š.md** (æœ¬æ–‡ä»¶)
   - æ¨¡å—åˆ›å»ºè¯¦ç»†æŠ¥å‘Š

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### 1. ç´¢å¼•ç®¡ç†

- åˆ›å»ºç´¢å¼•ï¼ˆæ”¯æŒè‡ªå®šä¹‰æ˜ å°„ï¼‰
- åˆ é™¤ç´¢å¼•
- åˆ¤æ–­ç´¢å¼•æ˜¯å¦å­˜åœ¨
- è‡ªåŠ¨é…ç½®åˆ†ç‰‡å’Œå‰¯æœ¬

### 2. æ–‡æ¡£æ“ä½œ

- æ·»åŠ æ–‡æ¡£ï¼ˆå•ä¸ª/æ‰¹é‡ï¼‰
- æ›´æ–°æ–‡æ¡£
- åˆ é™¤æ–‡æ¡£ï¼ˆå•ä¸ª/æŒ‰æŸ¥è¯¢åˆ é™¤ï¼‰
- è·å–æ–‡æ¡£

### 3. æœç´¢åŠŸèƒ½

- åŒ¹é…æ‰€æœ‰æŸ¥è¯¢
- ç²¾ç¡®åŒ¹é…æŸ¥è¯¢
- å…¨æ–‡åŒ¹é…æŸ¥è¯¢
- å¤šå­—æ®µåŒ¹é…æŸ¥è¯¢
- æ¨¡ç³ŠæŸ¥è¯¢
- å‰ç¼€æŸ¥è¯¢
- é€šé…ç¬¦æŸ¥è¯¢
- èŒƒå›´æŸ¥è¯¢
- å­˜åœ¨æŸ¥è¯¢
- å¸ƒå°”ç»„åˆæŸ¥è¯¢

### 4. é«˜çº§ç‰¹æ€§

- é«˜äº®æ˜¾ç¤º
- åˆ†é¡µæ”¯æŒ
- æ’åºæ”¯æŒ
- æŸ¥è¯¢æ„å»ºå™¨
- è¿æ¥æ± ç®¡ç†
- è®¤è¯æ”¯æŒ

## ğŸ”§ é…ç½®è¯´æ˜

### æ ¸å¿ƒé…ç½®é¡¹

```yaml
jeecg:
  elasticsearch:
    enabled: true                          # æ˜¯å¦å¯ç”¨
    cluster-name: elasticsearch            # é›†ç¾¤åç§°
    cluster-nodes:                         # é›†ç¾¤èŠ‚ç‚¹
      - localhost:9200
    username: elastic                      # ç”¨æˆ·åï¼ˆå¯é€‰ï¼‰
    password: your_password                # å¯†ç ï¼ˆå¯é€‰ï¼‰
    
    # è¿æ¥é…ç½®
    connection-timeout: 5000               # è¿æ¥è¶…æ—¶ï¼ˆmsï¼‰
    socket-timeout: 30000                  # Socketè¶…æ—¶ï¼ˆmsï¼‰
    max-connections: 100                   # æœ€å¤§è¿æ¥æ•°
    
    # ç´¢å¼•é…ç½®
    index:
      number-of-shards: 3                  # åˆ†ç‰‡æ•°
      number-of-replicas: 1                # å‰¯æœ¬æ•°
      prefix: jeecg_                       # ç´¢å¼•å‰ç¼€
    
    # æœç´¢é…ç½®
    search:
      default-page-size: 10                # é»˜è®¤åˆ†é¡µå¤§å°
      max-page-size: 10000                 # æœ€å¤§åˆ†é¡µå¤§å°
      timeout: 10000                       # æœç´¢è¶…æ—¶ï¼ˆmsï¼‰
```

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€ä½¿ç”¨

```java
@Autowired
private JeecgElasticsearchTemplate esTemplate;

// åˆ›å»ºç´¢å¼•
esTemplate.createIndex("articles");

// æ·»åŠ æ–‡æ¡£
Article article = new Article("1", "æ ‡é¢˜", "å†…å®¹");
esTemplate.addDocument("articles", "1", article);

// æœç´¢
QueryBuilder query = QueryStringBuilder.match("title", "Java");
SearchResult result = esTemplate.search("articles", query, 0, 10);
```

### é«˜çº§æŸ¥è¯¢

```java
// å¸ƒå°”ç»„åˆæŸ¥è¯¢
BoolQueryBuilder boolQuery = QueryStringBuilder.bool()
    .must(QueryStringBuilder.match("title", "Java"))
    .should(QueryStringBuilder.term("category", "æŠ€æœ¯"))
    .mustNot(QueryStringBuilder.term("status", "deleted"));

// å¸¦é«˜äº®çš„æœç´¢
SearchResult result = esTemplate.search(
    "articles",
    boolQuery,
    0,
    10,
    "createTime",                           // æ’åºå­—æ®µ
    SortOrder.DESC,                         // æ’åºæ–¹å‘
    new String[]{"title", "content"}        // é«˜äº®å­—æ®µ
);
```

## ğŸ“¦ ä¾èµ–å…³ç³»

### å¿…é€‰ä¾èµ–

- jeecg-boot-base-constants (å¸¸é‡æ¨¡å—)
- jeecg-boot-base-api (APIæ¨¡å—)
- jeecg-boot-base-utils (å·¥å…·ç±»æ¨¡å—)
- spring-boot-starter (Spring Bootæ ¸å¿ƒ)

### å¯é€‰ä¾èµ–

- elasticsearch-rest-high-level-client (ESå®¢æˆ·ç«¯)
- elasticsearch-rest-client (ES RESTå®¢æˆ·ç«¯)
- elasticsearch (ESæ ¸å¿ƒ)
- spring-boot-starter-data-elasticsearch (Spring Data ES)

## âœ… å®Œæˆæƒ…å†µ

### å·²å®Œæˆå†…å®¹

- âœ… Mavené¡¹ç›®ç»“æ„
- âœ… é…ç½®å±æ€§ç±»ï¼ˆ143è¡Œï¼‰
- âœ… è‡ªåŠ¨é…ç½®ç±»ï¼ˆ118è¡Œï¼‰
- âœ… ESæ“ä½œæ¨¡æ¿ç±»ï¼ˆ410è¡Œï¼‰
- âœ… æœç´¢ç»“æœç±»ï¼ˆ55è¡Œï¼‰
- âœ… æŸ¥è¯¢æ„å»ºå™¨ï¼ˆ277è¡Œï¼‰
- âœ… Springè‡ªåŠ¨é…ç½®
- âœ… é…ç½®å…ƒæ•°æ®ï¼ˆIDEæç¤ºï¼‰
- âœ… READMEæ–‡æ¡£
- âœ… å®ŒæˆæŠ¥å‘Š

### ä»£ç ç»Ÿè®¡

| ç±»åˆ« | æ–‡ä»¶æ•° | ä»£ç è¡Œæ•° |
|------|--------|----------|
| Javaæºæ–‡ä»¶ | 5 | 1,003 |
| èµ„æºæ–‡ä»¶ | 2 | 163 |
| æ–‡æ¡£æ–‡ä»¶ | 2 | æœ¬æ–‡ä»¶ |
| **æ€»è®¡** | **9** | **1,166+** |

## ğŸ¯ æŠ€æœ¯äº®ç‚¹

1. **å®Œæ•´çš„ESé›†æˆ** - æ”¯æŒç´¢å¼•ç®¡ç†ã€æ–‡æ¡£CRUDã€å…¨æ–‡æœç´¢
2. **ä¸°å¯Œçš„æŸ¥è¯¢æ–¹å¼** - 15ç§æŸ¥è¯¢ç±»å‹ï¼Œæ»¡è¶³å„ç§æœç´¢éœ€æ±‚
3. **ç®€åŒ–çš„æŸ¥è¯¢æ„å»º** - æä¾›æŸ¥è¯¢æ„å»ºå™¨ï¼Œç®€åŒ–å¤æ‚æŸ¥è¯¢ç¼–å†™
4. **é«˜äº®æ”¯æŒ** - è‡ªåŠ¨å¤„ç†æœç´¢ç»“æœé«˜äº®
5. **è¿æ¥æ± ç®¡ç†** - è‡ªåŠ¨ç®¡ç†ESè¿æ¥ï¼Œæ”¯æŒè®¤è¯
6. **å¯é€‰ä¾èµ–è®¾è®¡** - æ‰€æœ‰ESä¾èµ–å‡ä¸ºoptionalï¼ŒæŒ‰éœ€å¼•å…¥
7. **IDEæ™ºèƒ½æç¤º** - å®Œæ•´çš„é…ç½®å…ƒæ•°æ®æ”¯æŒ

## ğŸ”— ç›¸å…³æ¨¡å—

- [jeecg-boot-base-constants](../jeecg-boot-base-constants) - å¸¸é‡å®šä¹‰æ¨¡å—
- [jeecg-boot-base-api](../jeecg-boot-base-api) - APIæ¥å£æ¨¡å—
- [jeecg-boot-base-utils](../jeecg-boot-base-utils) - å·¥å…·ç±»æ¨¡å—
- [jeecg-boot-starter-web](../jeecg-boot-starter-web) - Webå¢å¼ºæ¨¡å—ï¼ˆå¾…åˆ›å»ºï¼‰

## ğŸ“… æ—¶é—´è®°å½•

- æ¨¡å—åˆ›å»ºå¼€å§‹ï¼š2025-11-08 23:33
- æ¨¡å—åˆ›å»ºå®Œæˆï¼š2025-11-08 23:44
- æ€»è€—æ—¶ï¼šçº¦11åˆ†é’Ÿ

## ğŸ‰ æ€»ç»“

jeecg-boot-starter-elasticsearch æ¨¡å—å·²æˆåŠŸåˆ›å»ºå®Œæˆï¼

**æ¨¡å—ç‰¹ç‚¹**:
- âœ… æä¾›å®Œæ•´çš„Elasticsearché›†æˆæ”¯æŒ
- âœ… æ”¯æŒç´¢å¼•ç®¡ç†å’Œæ–‡æ¡£CRUDæ“ä½œ
- âœ… æä¾›ä¸°å¯Œçš„æŸ¥è¯¢æ„å»ºå™¨å’Œæœç´¢åŠŸèƒ½
- âœ… æ”¯æŒé«˜äº®æ˜¾ç¤ºã€åˆ†é¡µæ’åºç­‰é«˜çº§ç‰¹æ€§
- âœ… å¯é€‰ä¾èµ–è®¾è®¡ï¼ŒæŒ‰éœ€å¼•å…¥
- âœ… å®Œæ•´çš„é…ç½®æ”¯æŒå’ŒIDEæ™ºèƒ½æç¤º

**ä¸‹ä¸€æ­¥**:
- åˆ›å»º jeecg-boot-starter-web æ¨¡å—ï¼ˆæœ€åä¸€ä¸ªStarteræ¨¡å—ï¼‰
- ç„¶ååˆ›å»ºèšåˆæ¨¡å— jeecg-boot-base-core
- ç¼–å†™è¿ç§»æŒ‡å—å’Œå…¼å®¹æ€§æµ‹è¯•

---

**åˆ›å»ºè€…**: JeecgBoot å›¢é˜Ÿ  
**åˆ›å»ºæ—¶é—´**: 2025-11-08  
**æ¨¡å—ç‰ˆæœ¬**: 4.0.0